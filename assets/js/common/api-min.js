/*! doc 2013-12-18 */
define("common/api",["bui/common"],function(t){var e=t("bui/common"),n="prettyprint linenums";window.Ext={data:{JsonP:{}}};var a=e.Component.Controller.extend({renderUI:function(){this._createCallback(),this.fetchAPI()},_createCallback:function(){var t=this,e=t.get("name");Ext.data.JsonP[e.replace(/\./gi,"_")]=function(e){t.showApi(e)}},fetchAPI:function(){var t=this,e=t.get("url");$.ajax({url:e,dataType:"jsonp"})},showApi:function(t){var e=this,n=t.html;e.set("content",n),e._appendTables(),e.replaceLink(),e.hideMembers(),e.prettyPrint()},_appendTables:function(){var t=this,e=t.get("tableTpl"),n=t.get("el");$(e).insertAfter(n.find(".members-title"))},replaceLink:function(){var t=this,n=t.get("el"),a=t.get("docsUrl"),i=n.find("a.name");e.each(i,function(t){var e=$(t),n=e.attr("href");e.attr("target","_blank"),e.attr("href",a+n)})},hideMembers:function(){var t=this,e=t.get("el"),n=e.find(".private,.protected");n.parents(".not-inherited").hide()},prettyPrint:function(){var t=this.get("el"),e=t.find("pre");e.addClass(n),window.prettyPrintEl&&e.each(function(t,e){var n=$(e).find("node");$(e).html(n.html()),prettyPrintEl(e)})}},{ATTRS:{data:{},tableTpl:{value:'<table cellspacing="0" class="table table-bordered">          <thead>            <tr>              <th width="242px">名称</th>              <th>简介</th>            </tr>          </thead>        </table>'},baseUrl:{value:"http://www.builive.com/docs/output/"},docsUrl:{value:"http://www.builive.com/docs"},name:{},url:{getter:function(t){return t?void 0:this.get("baseUrl")+this.get("name")+".js"}}}},{xclass:"api"});return a});